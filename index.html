<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>최적 인스턴스 계산기</title>
  <style>
    body { font-family: Arial; padding: 20px; text-align: center; }
    input { padding: 10px; margin: 10px; font-size: 16px; width: 100px; }
    button { padding: 10px 20px; font-size: 16px; }
    ul { text-align: left; margin-top: 20px; display: inline-block; }
  </style>
</head>
<body>
  <h1>최적 인스턴스 계산기</h1>
  <p>속도 가중치와 비용 가중치를 입력하세요 (합은 1)</p>
  <input type="number" id="speedWeight" placeholder="속도 가중치" step="0.01" min="0" max="1" />
  <input type="number" id="costWeight" placeholder="비용 가중치" step="0.01" min="0" max="1" />
  <br>
  <button onclick="calculate()">계산</button>
  <h2>추천 경로</h2>
  <ul id="result"></ul>

  <script>
    const speeds = {
      '서울-일본': 10,
      '서울-미국': 20,
      '미국-일본': 10,
      '미국-서울': 10,
      '일본-서울': 20,
      '일본-미국': 20
    };

    const costs = {
      '서울': 5,
      '미국': 10,
      '일본': 15
    };

    function calculate() {
      const speedWeight = parseFloat(document.getElementById('speedWeight').value);
      const costWeight = parseFloat(document.getElementById('costWeight').value);

      const resultList = document.getElementById('result');
      resultList.innerHTML = '';

      if (isNaN(speedWeight) || isNaN(costWeight) || speedWeight + costWeight !== 1) {
        resultList.innerHTML = '<li>가중치의 합이 1이 되도록 입력하세요.</li>';
        return;
      }

      const results = [];

      for (const key in speeds) {
        const [sender, receiver] = key.split('-');
        const speed = speeds[key];
        const cost = costs[sender];

        const score = (speed * speedWeight) + ((1 / cost) * costWeight);
        results.push({ pair: `${sender} → ${receiver}`, score: score });
      }

      results.sort((a, b) => b.score - a.score);

      results.forEach(r => {
        const li = document.createElement('li');
        li.textContent = `${r.pair} (점수: ${r.score.toFixed(3)})`;
        resultList.appendChild(li);
      });
    }
  </script>
</body>
</html>
